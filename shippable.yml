language: python
python:
  - "2.7"
  - "3.5"
  - "pypy"
cache: true

before_install:
   - mkdir -p shippable/codecoverage

install: 
  - "sudo pip install requests"
  - "sudo pip install coverage"
  - "sudo python setup.py -q develop"

script:
  - sudo coverage run -p tests/acitoolkit_test.py
  - sudo coverage run -p tests/aciphysobject_test.py
  - sudo coverage run -p tests/acitoolkitlib_test.py

after_success:
  - coverage combine
  - coverage report --include=*acitoolkit*
  - coverage xml -o shippable/codecoverage/coverage.xml --include=*acitoolkit*
